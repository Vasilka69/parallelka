# Лабараторная работа №5

В ходе работы была предоставлена собтвенная реализация считающего семафора.

### Результаты выполнения программ на 8 потоках и семафором с максимум 2 входами
```
-------------------
Regular semaphore:
-------------------
Поток pool-1-thread-2 пытается захватить семафор
Поток pool-1-thread-8 пытается захватить семафор
Поток pool-1-thread-6 пытается захватить семафор
Поток pool-1-thread-3 пытается захватить семафор
Поток pool-1-thread-4 пытается захватить семафор
Поток pool-1-thread-5 пытается захватить семафор
Поток pool-1-thread-7 пытается захватить семафор
Поток pool-1-thread-1 пытается захватить семафор
Поток pool-1-thread-8 захватил семафор, доступно входов: 0
Поток pool-1-thread-2 захватил семафор, доступно входов: 1
Поток pool-1-thread-2 выполняет работу в критической секции
Поток pool-1-thread-8 выполняет работу в критической секции
Поток pool-1-thread-2 пытается отпустить семафор
Поток pool-1-thread-8 пытается отпустить семафор
Поток pool-1-thread-8 отпустил семафор, доступно входов: 2
Поток pool-1-thread-2 отпустил семафор, доступно входов: 1
Поток pool-1-thread-5 захватил семафор, доступно входов: 0
Поток pool-1-thread-5 выполняет работу в критической секции
Поток pool-1-thread-6 захватил семафор, доступно входов: 1
Поток pool-1-thread-6 выполняет работу в критической секции
Поток pool-1-thread-6 пытается отпустить семафор
Поток pool-1-thread-5 пытается отпустить семафор
Поток pool-1-thread-1 захватил семафор, доступно входов: 0
Поток pool-1-thread-5 отпустил семафор, доступно входов: 1
Поток pool-1-thread-6 отпустил семафор, доступно входов: 1
Поток pool-1-thread-1 выполняет работу в критической секции
Поток pool-1-thread-3 захватил семафор, доступно входов: 0
Поток pool-1-thread-3 выполняет работу в критической секции
Поток pool-1-thread-1 пытается отпустить семафор
Поток pool-1-thread-3 пытается отпустить семафор
Поток pool-1-thread-1 отпустил семафор, доступно входов: 1
Поток pool-1-thread-4 захватил семафор, доступно входов: 0
Поток pool-1-thread-3 отпустил семафор, доступно входов: 1
Поток pool-1-thread-7 захватил семафор, доступно входов: 0
Поток pool-1-thread-4 выполняет работу в критической секции
Поток pool-1-thread-7 выполняет работу в критической секции
Поток pool-1-thread-7 пытается отпустить семафор
Поток pool-1-thread-4 пытается отпустить семафор
Поток pool-1-thread-7 отпустил семафор, доступно входов: 1
Поток pool-1-thread-4 отпустил семафор, доступно входов: 2
--------------
My semaphore:
--------------
[MySemaphore] Поток pool-2-thread-1 пытается захватить семафор, доступно входов: 2
[MySemaphore] Поток pool-2-thread-1 захватил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-2 пытается захватить семафор, доступно входов: 1
Поток pool-2-thread-1 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-2 захватил семафор, доступно входов: 0
Поток pool-2-thread-2 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-4 пытается захватить семафор, доступно входов: 0
[MySemaphore] Поток pool-2-thread-4 ожидает освобождения семафора, доступно входов: 0
[MySemaphore] Поток pool-2-thread-6 пытается захватить семафор, доступно входов: 0
[MySemaphore] Поток pool-2-thread-6 ожидает освобождения семафора, доступно входов: 0
[MySemaphore] Поток pool-2-thread-3 пытается захватить семафор, доступно входов: 0
[MySemaphore] Поток pool-2-thread-3 ожидает освобождения семафора, доступно входов: 0
[MySemaphore] Поток pool-2-thread-5 пытается захватить семафор, доступно входов: 0
[MySemaphore] Поток pool-2-thread-5 ожидает освобождения семафора, доступно входов: 0
[MySemaphore] Поток pool-2-thread-7 пытается захватить семафор, доступно входов: 0
[MySemaphore] Поток pool-2-thread-7 ожидает освобождения семафора, доступно входов: 0
[MySemaphore] Поток pool-2-thread-8 пытается захватить семафор, доступно входов: 0
[MySemaphore] Поток pool-2-thread-8 ожидает освобождения семафора, доступно входов: 0
[MySemaphore] Поток pool-2-thread-1 отпустил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-2 отпустил семафор, доступно входов: 2
[MySemaphore] Поток pool-2-thread-4 захватил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-6 захватил семафор, доступно входов: 0
Поток pool-2-thread-4 выполняет работу в критической секции
Поток pool-2-thread-6 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-4 отпустил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-3 захватил семафор, доступно входов: 0
Поток pool-2-thread-3 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-6 отпустил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-5 захватил семафор, доступно входов: 0
Поток pool-2-thread-5 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-3 отпустил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-7 захватил семафор, доступно входов: 0
Поток pool-2-thread-7 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-5 отпустил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-8 захватил семафор, доступно входов: 0
Поток pool-2-thread-8 выполняет работу в критической секции
[MySemaphore] Поток pool-2-thread-7 отпустил семафор, доступно входов: 1
[MySemaphore] Поток pool-2-thread-8 отпустил семафор, доступно входов: 2

Process finished with exit code 0
```

Как можно заметить, количество доступных входов для семафора всегда было в пределах [0, 2], следовательно, собственная реализация семафора работает корректно.